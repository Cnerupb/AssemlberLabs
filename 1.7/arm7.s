
.section .data
buffer:
    .space 100      // Буфер для ввода, длиной 100 байт

.section .text
.global _start
_start:
    // Чтение строки с консоли
    mov r0, #0          // Файловый дескриптор 0 (стандартный ввод)
    ldr r1, =buffer     // Адрес буфера
    mov r2, #100        // Максимальное количество байт для чтения
    mov r7, #3          // Номер системного вызова для read
    svc #0              // Вызов системного прерывания

    // Сохранение количества прочитанных байт
    mov r4, r0          // r4 = количество прочитанных байт

    // Вывод строки на экран
    mov r0, #1          // Файловый дескриптор 1 (стандартный вывод)
    ldr r1, =buffer     // Адрес буфера
    mov r2, r4          // Количество байт для записи
    mov r7, #4          // Номер системного вызова для write
    svc #0              // Вызов системного прерывания

    // Завершение программы
    mov r0, #0          // Код возврата
    mov r7, #1          // Номер системного вызова для exit
    svc #0              // Вызов системного прерывания
